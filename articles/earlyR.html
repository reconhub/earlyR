<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Early investigation of infectiousness using earlyR • earlyR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Early investigation of infectiousness using earlyR">
<meta property="og:description" content="earlyR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">earlyR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/earlyR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/reconhub/earlyR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="earlyR_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="earlyR_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="earlyR_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Early investigation of infectiousness using earlyR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/reconhub/earlyR/blob/master/vignettes/earlyR.Rmd"><code>vignettes/earlyR.Rmd</code></a></small>
      <div class="hidden name"><code>earlyR.Rmd</code></div>

    </div>

    
    
<p>In this example we assume a small outbreak of Ebola Virus Disease (EVD), for which the serial interval has been previously characterised. We study a fake outbreak, for which we will quantify infectiousness (R), and then project future incidence using the package <a href="https://github.com/reconhub/projections"><em>projections</em></a>.</p>
<p>The fake data we consider consist of confirmed cases with the following symptom onset dates:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">

<span class="va">onset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2017-02-04"</span>, <span class="st">"2017-02-12"</span>, <span class="st">"2017-02-15"</span>,
                   <span class="st">"2017-02-23"</span>, <span class="st">"2017-03-01"</span>, <span class="st">"2017-03-01"</span>,
           <span class="st">"2017-03-02"</span>, <span class="st">"2017-03-03"</span>, <span class="st">"2017-03-03"</span><span class="op">)</span><span class="op">)</span>        </pre></div>
<p>We compute the daily incidence using the package <a href="https://github.com/reconhub/incidence"><em>incidence</em></a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.repidemicsconsortium.org/incidence/">incidence</a></span><span class="op">)</span>
<span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.repidemicsconsortium.org/incidence/reference/incidence.html">incidence</a></span><span class="op">(</span><span class="va">onset</span><span class="op">)</span>
<span class="va">i</span>
<span class="co">#&gt; &lt;incidence object&gt;</span>
<span class="co">#&gt; [9 cases from days 2017-02-04 to 2017-03-03]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $counts: matrix with 28 rows and 1 columns</span>
<span class="co">#&gt; $n: 9 cases in total</span>
<span class="co">#&gt; $dates: 28 dates marking the left-side of bins</span>
<span class="co">#&gt; $interval: 1 day</span>
<span class="co">#&gt; $timespan: 28 days</span>
<span class="co">#&gt; $cumulative: FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">i</span>, border <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></pre></div>
<p><img src="earlyR_files/figure-html/incidence-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Notice that the epicurve stops exactly after the last date of onset. Let us assume it is currently the 21th March, and no case has been seen since the 6th March. We need to indicate this to <code>incidence</code> using:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">

<span class="va">today</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2017-03-21"</span><span class="op">)</span>
<span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.repidemicsconsortium.org/incidence/reference/incidence.html">incidence</a></span><span class="op">(</span><span class="va">onset</span>, last_date <span class="op">=</span> <span class="va">today</span><span class="op">)</span>
<span class="va">i</span>
<span class="co">#&gt; &lt;incidence object&gt;</span>
<span class="co">#&gt; [9 cases from days 2017-02-04 to 2017-03-21]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $counts: matrix with 46 rows and 1 columns</span>
<span class="co">#&gt; $n: 9 cases in total</span>
<span class="co">#&gt; $dates: 46 dates marking the left-side of bins</span>
<span class="co">#&gt; $interval: 1 day</span>
<span class="co">#&gt; $timespan: 46 days</span>
<span class="co">#&gt; $cumulative: FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">i</span>, border <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></pre></div>
<p><img src="earlyR_files/figure-html/incidence2-1.png" width="672" style="display: block; margin: auto;"></p>
<p>It is <strong>very important to make sure that the last days without cases are included here</strong>. Omitting this information would lead to an over-estimation of the reproduction number (<em>R</em>).</p>
<p>For estimating <em>R</em>, we need estimates of the mean and standard deviation of the serial interval, i.e. the delay between primary and secondary symptom onset dates. This has been quantified durin the West African EVD outbreak (WHO Ebola Response Team (2014) NEJM 371:1481–1495):</p>
<div class="sourceCode" id="cb4"><pre class="downlit">

<span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">15.3</span> <span class="co"># mean in days days</span>
<span class="va">sigma</span> <span class="op">&lt;-</span> <span class="fl">9.3</span> <span class="co"># standard deviation in days</span></pre></div>
<p>The function <code>get_R</code> is then used to estimate the most likely values of <em>R</em>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://www.repidemicsconsortium.org/earlyR/">earlyR</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>

<span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_R.html">get_R</a></span><span class="op">(</span><span class="va">i</span>, si_mean <span class="op">=</span> <span class="va">mu</span>, si_sd <span class="op">=</span> <span class="va">sigma</span><span class="op">)</span>
<span class="va">res</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; /// Early estimate of reproduction number (R) //</span>
<span class="co">#&gt;  // class: earlyR, list</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  // Maximum-Likelihood estimate of R ($R_ml):</span>
<span class="co">#&gt; [1] 1.041041</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  // $lambda:</span>
<span class="co">#&gt;   NA 0.01838179 0.0273192 0.03514719 0.0414835 0.04623398...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  // $dates:</span>
<span class="co">#&gt; [1] "2017-02-04" "2017-02-05" "2017-02-06" "2017-02-07" "2017-02-08"</span>
<span class="co">#&gt; [6] "2017-02-09"</span>
<span class="co">#&gt; ...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  // $si (serial interval):</span>
<span class="co">#&gt; A discrete distribution</span>
<span class="co">#&gt;   name: gamma</span>
<span class="co">#&gt;   parameters:</span>
<span class="co">#&gt;     shape: 2.70655567117586</span>
<span class="co">#&gt;     scale: 5.65294117647059</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></pre></div>
<p><img src="earlyR_files/figure-html/estimate-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb6"><pre class="downlit">

<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"lambdas"</span>, scale <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">onset</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">onset</span>, col <span class="op">=</span> <span class="st">"grey"</span>, lwd <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">today</span>, col <span class="op">=</span> <span class="st">"blue"</span>, lty <span class="op">=</span> <span class="fl">2</span>, lwd <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span>
<span class="co">#&gt; Warning: Removed 1 rows containing missing values (position_stack).</span></pre></div>
<p><img src="earlyR_files/figure-html/estimate-2.png" width="672" style="display: block; margin: auto;"></p>
<p>The first figure shows the distribution of likely values of <em>R</em>, and the Maximum-Likelihood (ML) estimation. The second figure shows the global force of infection over time, with vertical grey bars indicating the dates of symptom of onset. The dashed blue line indicates current day.</p>
<p>Based on this figure and on the estimated <em>R</em>, we can wonder if new cases will be seen in the near future. How likely is this? We can use the package <a href="https://github.com/reconhub/projections"><em>projections</em></a> to have an idea. The function <code>project</code> can be used to simulate a large number of future epicurves which are in line with the current data, serial interval and <em>R</em>. Rather than using a single ML estimate of <em>R</em> (as we can see, there is some variability in the distribution), we use a sample of 1,000 likely <em>R</em> values using <code>sample_R</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit">

<span class="va">R_val</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sample_R.html">sample_R</a></span><span class="op">(</span><span class="va">res</span>, <span class="fl">1000</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">R_val</span><span class="op">)</span>
<span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="co">#&gt;  0.3504  0.9209  1.1512  1.1903  1.4114  2.7127</span>
<span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">R_val</span><span class="op">)</span>
<span class="co">#&gt;        0%       25%       50%       75%      100% </span>
<span class="co">#&gt; 0.3503504 0.9209209 1.1511512 1.4114114 2.7127127</span>
<span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">R_val</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.025</span>, <span class="fl">0.975</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;      2.5%     97.5% </span>
<span class="co">#&gt; 0.5705706 2.0422923</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">R_val</span>, border <span class="op">=</span> <span class="st">"grey"</span>, col <span class="op">=</span> <span class="st">"navy"</span>,
     xlab <span class="op">=</span> <span class="st">"Values of R"</span>,
     main <span class="op">=</span> <span class="st">"Sample of likely R values"</span><span class="op">)</span></pre></div>
<p><img src="earlyR_files/figure-html/sample_R-1.png" width="672" style="display: block; margin: auto;"></p>
<p>We retrieve the serial interval (SI) from <code>res</code>: <a href="https://github.com/reconhub/distcrete"><em>distcrete</em></a>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">

<span class="va">si</span> <span class="op">&lt;-</span> <span class="va">res</span><span class="op">$</span><span class="va">si</span>
<span class="va">si</span>
<span class="co">#&gt; A discrete distribution</span>
<span class="co">#&gt;   name: gamma</span>
<span class="co">#&gt;   parameters:</span>
<span class="co">#&gt;     shape: 2.70655567117586</span>
<span class="co">#&gt;     scale: 5.65294117647059</span></pre></div>
<p>We now use <code>project</code> to simulate future epicurves:</p>
<div class="sourceCode" id="cb9"><pre class="downlit">

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.repidemicsconsortium.org/projections">projections</a></span><span class="op">)</span>

<span class="va">future_i</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.repidemicsconsortium.org/projections/reference/project.html">project</a></span><span class="op">(</span><span class="va">i</span>, R <span class="op">=</span> <span class="va">R_val</span>, n_sim <span class="op">=</span> <span class="fl">1000</span>, si <span class="op">=</span> <span class="va">res</span><span class="op">$</span><span class="va">si</span>, n_days <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>
<span class="va">future_i</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; /// Incidence projections //</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   // class: projections, matrix, array</span>
<span class="co">#&gt;   // 30 dates (rows); 1,000 simulations (columns)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  // first rows/columns:</span>
<span class="co">#&gt;            [,1] [,2] [,3] [,4] [,5] [,6]</span>
<span class="co">#&gt; 2017-03-22    0    0    0    0    0    0</span>
<span class="co">#&gt; 2017-03-23    0    0    0    0    0    0</span>
<span class="co">#&gt; 2017-03-24    0    0    0    0    1    1</span>
<span class="co">#&gt; 2017-03-25    0    0    0    0    0    0</span>
<span class="co">#&gt;  .</span>
<span class="co">#&gt;  .</span>
<span class="co">#&gt;  .</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  // dates:</span>
<span class="co">#&gt;  [1] "2017-03-22" "2017-03-23" "2017-03-24" "2017-03-25" "2017-03-26"</span>
<span class="co">#&gt;  [6] "2017-03-27" "2017-03-28" "2017-03-29" "2017-03-30" "2017-03-31"</span>
<span class="co">#&gt; [11] "2017-04-01" "2017-04-02" "2017-04-03" "2017-04-04" "2017-04-05"</span>
<span class="co">#&gt; [16] "2017-04-06" "2017-04-07" "2017-04-08" "2017-04-09" "2017-04-10"</span>
<span class="co">#&gt; [21] "2017-04-11" "2017-04-12" "2017-04-13" "2017-04-14" "2017-04-15"</span>
<span class="co">#&gt; [26] "2017-04-16" "2017-04-17" "2017-04-18" "2017-04-19" "2017-04-20"</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">future_i</span><span class="op">)</span> <span class="co"># average incidence / day</span>
<span class="co">#&gt; [1] 0.1446333</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">future_i</span><span class="op">)</span></pre></div>
<p><img src="earlyR_files/figure-html/projections-1.png" width="672" style="display: block; margin: auto;"></p>
<p>The plot shows the median (plain) and 95% credible interval of incidences. Here, this means most simulations have no new cases. This is likely due to the fact that no case have been seen for the last few days - this would not be compatible with ongoing growth of the epidemic. To have the distribution of the total number of new cases predicted in the next 30 days, we can use:</p>
<div class="sourceCode" id="cb10"><pre class="downlit">

<span class="va">predicted_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colSums</a></span><span class="op">(</span><span class="va">future_i</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">predicted_n</span><span class="op">)</span>
<span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="co">#&gt;   0.000   1.000   3.000   4.339   7.000  29.000</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">predicted_n</span>, col <span class="op">=</span> <span class="st">"darkred"</span>, border <span class="op">=</span> <span class="st">"white"</span>,
     main <span class="op">=</span> <span class="st">"Prediction: new cases in 30 days"</span>,
     xlab <span class="op">=</span> <span class="st">"Total number of new cases"</span><span class="op">)</span></pre></div>
<p><img src="earlyR_files/figure-html/pred_size-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Note that without the recent zero incidence, results would be drastically different:</p>
<div class="sourceCode" id="cb11"><pre class="downlit">

<span class="va">alt_i</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.repidemicsconsortium.org/incidence/reference/incidence.html">incidence</a></span><span class="op">(</span><span class="va">onset</span><span class="op">)</span>
<span class="va">alt_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_R.html">get_R</a></span><span class="op">(</span><span class="va">alt_i</span>, si_mean <span class="op">=</span> <span class="va">mu</span>, si_sd <span class="op">=</span> <span class="va">sigma</span><span class="op">)</span>
<span class="va">alt_R_val</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sample_R.html">sample_R</a></span><span class="op">(</span><span class="va">alt_res</span>, <span class="fl">1000</span><span class="op">)</span>
<span class="va">alt_future_i</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.repidemicsconsortium.org/projections/reference/project.html">project</a></span><span class="op">(</span><span class="va">alt_i</span>, R <span class="op">=</span> <span class="va">alt_R_val</span>, n_sim <span class="op">=</span> <span class="fl">1000</span>, si <span class="op">=</span> <span class="va">res</span><span class="op">$</span><span class="va">si</span>, n_days <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>
<span class="va">alt_future_i</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; /// Incidence projections //</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   // class: projections, matrix, array</span>
<span class="co">#&gt;   // 30 dates (rows); 1,000 simulations (columns)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  // first rows/columns:</span>
<span class="co">#&gt;            [,1] [,2] [,3] [,4] [,5] [,6]</span>
<span class="co">#&gt; 2017-03-04    0    0    0    1    1    0</span>
<span class="co">#&gt; 2017-03-05    3    0    1    2    1    2</span>
<span class="co">#&gt; 2017-03-06    0    0    3    1    1    2</span>
<span class="co">#&gt; 2017-03-07    0    0    1    1    0    3</span>
<span class="co">#&gt;  .</span>
<span class="co">#&gt;  .</span>
<span class="co">#&gt;  .</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  // dates:</span>
<span class="co">#&gt;  [1] "2017-03-04" "2017-03-05" "2017-03-06" "2017-03-07" "2017-03-08"</span>
<span class="co">#&gt;  [6] "2017-03-09" "2017-03-10" "2017-03-11" "2017-03-12" "2017-03-13"</span>
<span class="co">#&gt; [11] "2017-03-14" "2017-03-15" "2017-03-16" "2017-03-17" "2017-03-18"</span>
<span class="co">#&gt; [16] "2017-03-19" "2017-03-20" "2017-03-21" "2017-03-22" "2017-03-23"</span>
<span class="co">#&gt; [21] "2017-03-24" "2017-03-25" "2017-03-26" "2017-03-27" "2017-03-28"</span>
<span class="co">#&gt; [26] "2017-03-29" "2017-03-30" "2017-03-31" "2017-04-01" "2017-04-02"</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">alt_future_i</span><span class="op">)</span>
<span class="co">#&gt; [1] 5.5434</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">alt_future_i</span><span class="op">)</span></pre></div>
<p><img src="earlyR_files/figure-html/alternative-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb12"><pre class="downlit">

<span class="co">## alternative plot</span>
<span class="va">col</span> <span class="op">&lt;-</span> <span class="st">"#cc66991a"</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html">matplot</a></span><span class="op">(</span><span class="va">alt_future_i</span>, type <span class="op">=</span> <span class="st">"l"</span>, col <span class="op">=</span> <span class="va">col</span>, lty <span class="op">=</span> <span class="fl">1</span>, lwd <span class="op">=</span> <span class="fl">5</span>,
        xlab <span class="op">=</span> <span class="st">"Day from today"</span>,
    ylab <span class="op">=</span> <span class="st">"Projected daily incidence"</span><span class="op">)</span></pre></div>
<p><img src="earlyR_files/figure-html/alternative-2.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb13"><pre class="downlit">

<span class="va">alt_predicted_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colSums</a></span><span class="op">(</span><span class="va">alt_future_i</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">alt_predicted_n</span><span class="op">)</span>
<span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="co">#&gt;    18.0   118.0   159.0   166.3   203.2   512.0</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">alt_predicted_n</span>, col <span class="op">=</span> <span class="st">"darkred"</span>, border <span class="op">=</span> <span class="st">"white"</span>,
     main <span class="op">=</span> <span class="st">"Prediction: new cases in 30 days"</span>,
     xlab <span class="op">=</span> <span class="st">"Total number of new cases"</span><span class="op">)</span></pre></div>
<p><img src="earlyR_files/figure-html/alternative-3.png" width="672" style="display: block; margin: auto;"></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Thibaut Jombart, Anne Cori, Pierre Nouvellet, Janetta Skarp.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
